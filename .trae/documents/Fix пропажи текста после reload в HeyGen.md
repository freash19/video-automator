## Наблюдение (по описанию)
- Текст визуально вставляется в сцены, но после reload/обновления пропадает.
- Уведомление “Сохранено/Saved” при этом появляется (значит проблема вероятнее не в кнопке Save, а в том, что наши изменения **не считаются изменениями редактора** или **не коммитятся в модель сцены**).

## Рабочие гипотезы (что именно ломается)
1. **Пишем не в тот editable-элемент**: `span[data-node-view-content-react]` может быть “view”-слоем/плейсхолдером, а не реальным редактором (ProseMirror/contenteditable). Тогда текст отображается, но не попадает в сериализуемую модель — после reload откат.
2. **Нет commit/blur события**: после `insert_text` редактор HeyGen может требовать blur/enter/click-out, чтобы зафиксировать правку и отправить autosave. Сейчас у нас фиксируется через `Tab`, но он может переводить фокус не туда и не давать корректного commit.
3. **“Saved” не связано с нашим изменением**: уведомление может срабатывать по внутреннему таймеру/другому событию, а не как подтверждение именно наших правок. Нужно подтверждать сохранение “после изменения”, а не вообще.

## Что добавить в docs/PLAN.md (новая задача)
Добавить активную задачу:
- **Fix: Текст сцен не переживает reload (не коммитится в HeyGen)**
  - **Goal**: после автозаполнения и `page.reload()` тексты остаются.
  - **Scope**: поиск реального editable для сцены + корректный commit/blur + проверка autosave.
  - **Agents**:
    - `ui-researcher`: через `tools/inspector.py` найти **реальный editable** для текста сцены (role/aria/data-testid/contenteditable), и зафиксировать селектор(ы) + annotated.png.
    - `automation-engineer`: перевести ввод с `span[data-node-view-content-react]` на найденный editable, добавить commit-стратегию и верификацию.
    - `qa-tester`: dry-run + проверка `automation.log`/скриншотов.
  - **Acceptance Criteria**:
    - AC1: После заполнения ≥5 сцен и `refresh_and_validate()` (включает reload) тексты совпадают с CSV.
    - AC2: Для каждой сцены после вставки фиксируется commit (blur/click-out) и шаг “verify_after_insert” подтверждает, что текст читается из правильного элемента.
    - AC3: Все клики/действия обёрнуты в `@step/perform_step`, ошибки дают скриншот в `debug/screenshots/`.
    - AC4: Селекторы соответствуют .traerules (data-testid/aria/role; без динамических классов).

## План работ (после вашего "Go")
### 1) UI-исследование (обязательный шаг)
- Запустить `tools/inspector.py` на draft-странице и:
  - определить DOM-узел, куда реально вводится текст сцены (часто `div[contenteditable]`/ProseMirror),
  - собрать стабильный селектор для этого узла,
  - зафиксировать “commit” механику (что именно вызывает autosave: blur? Enter? click по canvas?).

### 2) Ввод через правильный editable + commit
- Обновить логику `fill_scene`:
  - клик/фокус по сцене как сейчас,
  - затем фокус по найденному editable,
  - замена текста (Cmd+A/Backspace/paste или typing),
  - явный commit: клик по безопасной области (например, canvas) + ожидание признака применения.
- Убрать `Tab` из основного пути ввода, оставить только как fallback при диагностике.

### 3) Проверка “изменение действительно применилось”
- Реализовать `verify_scene_after_insert` (сейчас ветка пустая):
  - read-back из editable,
  - 1–2 ретрая с более “человеческим” вводом только при mismatch,
  - (опционально) ждать подтверждения autosave именно **после** изменения (baseline-снимок состояния уведомления до ввода).

### 4) Безопасный reload
- `refresh_and_validate` делает reload только после успешной post-insert верификации (и/или подтверждённого autosave после последней правки).

### 5) QA
- Прогон smoke-теста на 5 сцен: приложить выжимку из `automation.log` и список скриншотов.

План готов. Одобряете логику для перехода к работе? (ответьте "Go")